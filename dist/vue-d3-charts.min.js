var D3BarChart=function(t,e,a,i,s,r,c,n,o,h,l){"use strict";function g(t,e,a,i,s,r,c,n,o,h){"boolean"!=typeof c&&(o=n,n=c,c=!1);var l="function"==typeof a?a.options:a;t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,s&&(l.functional=!0)),i&&(l._scopeId=i);var g;if(r?(g=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,o(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=g):e&&(g=c?function(){e.call(this,h(this.$root.$options.shadowRoot))}:function(t){e.call(this,n(t))}),g)if(l.functional){var f=l.render;l.render=function(t,e){return g.call(e),f(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,g):[g]}return a}function f(t){return function(t,e){return u(t,e)}}function u(t,e){var a=y?e.media||"default":t,i=v[a]||(v[a]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var s=e.source;if(e.map&&(s+="\n/*# sourceURL="+e.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),x.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(s),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,c=document.createTextNode(s),n=i.element.childNodes;n[r]&&i.element.removeChild(n[r]),n.length?i.element.insertBefore(c,n[r]):i.element.appendChild(c)}}}e=e&&e.hasOwnProperty("default")?e.default:e;var d={select:a.select,selectAll:a.selectAll,scaleBand:i.scaleBand,scaleLinear:i.scaleLinear,max:s.max,axisBottom:r.axisBottom,axisLeft:r.axisLeft},p=function(t,e,a){var i=this;void 0===a&&(a={}),this.selection=d.select(t),this.data=e,this.cfg={margin:{top:10,right:30,bottom:20,left:40},key:"key",value:"value",labelRotation:0,color:"steelblue",yAxis:"",yScaleTicks:5,yScaleFormat:".0f"},Object.keys(a).forEach(function(t){a[t]instanceof Object&&a[t]instanceof Array==!1?Object.keys(a[t]).forEach(function(e){i.cfg[t][e]=a[t][e]}):i.cfg[t]=a[t]}),this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom,this.xScale=d.scaleBand().rangeRound([0,this.cfg.width]).padding(.1),this.yScale=d.scaleLinear().rangeRound([0,this.cfg.height]),this.redraw=function(){i.draw()},window.addEventListener("resize",this.redraw),this.initGraph()};p.prototype.initGraph=function(){var t=this;this.xScale.domain(this.data.map(function(e){return e[t.cfg.key]})),this.yScale.domain([d.max(this.data,function(e){return+e[t.cfg.value]}),0]),this.wrap=this.selection.append("div").attr("class","chart__wrap chart__wrap--barchart"),this.svg=this.wrap.append("svg").attr("class","chart chart--barchart").attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.g=this.svg.append("g").attr("class","chart__margin-wrap").attr("transform","translate("+this.cfg.margin.left+","+this.cfg.margin.top+")"),this.axisg=this.g.append("g").attr("class","chart__axis chart__axis--barchart"),this.yGrid=this.axisg.append("g").attr("class","chart__grid chart__grid--y chart__grid--barchart").call(this.make_y_gridlines().tickSize(-this.cfg.width).ticks(this.cfg.yScaleTicks,this.cfg.yScaleFormat)),this.cfg.yAxis&&(this.yAxisTitle=this.axisg.append("text").attr("class","chart__axis-title chart__axis-title--barchart").attr("y",10-this.cfg.margin.left).attr("x",-this.cfg.height/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(this.cfg.yAxis)),this.xAxis=this.axisg.append("g").attr("class","chart__axis-x chart__axis-x--barchart").attr("transform","translate(0,"+this.cfg.height+")").call(d.axisBottom(this.xScale)),0!=this.cfg.labelRotation&&this.xAxis.selectAll("text").attr("y",9*Math.cos(this.cfg.labelRotation*Math.PI/180)).attr("x",9*Math.sin(this.cfg.labelRotation*Math.PI/180)).attr("dy",".35em").attr("transform","rotate("+this.cfg.labelRotation+")").style("text-anchor","start"),this.selection.selectAll(".chart__tooltip").remove(),this.tooltip=this.wrap.append("div").attr("class","chart__tooltip chart__tooltip--barchart"),this.itemg=this.g.selectAll(".itemgroup").data(this.data).enter().append("g").attr("class","itemgroup").attr("transform",function(e,a){return"translate("+t.xScale(e[t.cfg.key])+",0)"}),this.rects=this.itemg.append("rect").attr("x",0).attr("y",function(e,a){return t.yScale(+e[t.cfg.value])}).attr("width",this.xScale.bandwidth()).attr("height",function(e){return t.cfg.height-t.yScale(+e[t.cfg.value])}).attr("fill",function(e){return t.cfg.currentkey&&e[t.cfg.key]!=t.cfg.currentkey?t.cfg.greycolor:t.cfg.color}).on("mouseover",function(e){t.tooltip.html(function(){return"\n                        <div>"+e[t.cfg.key]+": "+e[t.cfg.value]+"</div>\n                    "}).classed("active",!0)}).on("mouseout",function(){t.tooltip.classed("active",!1)}).on("mousemove",function(){t.tooltip.style("left",window.event.pageX-28+"px").style("top",window.event.pageY-40+"px")})},p.prototype.draw=function(){var t=this;this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom,this.xScale.rangeRound([0,this.cfg.width]),this.yScale.rangeRound([0,this.cfg.height]),this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.yGrid.call(this.make_y_gridlines().tickSize(-this.cfg.width).ticks(this.cfg.yScaleTicks,this.cfg.yScaleFormat)),this.xAxis.attr("transform","translate(0,"+this.cfg.height+")").call(d.axisBottom(this.xScale)),this.cfg.yAxis&&this.yAxisTitle.attr("x",-this.cfg.height/2),this.itemg.attr("transform",function(e){return"translate("+t.xScale(e[t.cfg.key])+",0)"}),this.rects.attr("width",this.xScale.bandwidth()).attr("y",function(e){return t.yScale(+e[t.cfg.value])}).attr("height",function(e){return t.cfg.height-t.yScale(+e[t.cfg.value])})},p.prototype.make_x_gridlines=function(){return d.axisBottom(this.xScale)},p.prototype.make_y_gridlines=function(){return d.axisLeft(this.yScale)},p.prototype.destroyChart=function(){window.removeEventListener("resize",this.redraw)};var m={name:"D3BarChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new p(this.$refs.chart,[].concat(this.datum),this.config)},beforeDestroy:function(){this.chart.destroyChart()}},_=g,y="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),x=document.head||document.getElementsByTagName("head")[0],v={},b=f,S=_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-19acfb40_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}",map:void 0,media:void 0})},m,void 0,!1,void 0,b,void 0),w={select:a.select,selectAll:a.selectAll,scaleOrdinal:i.scaleOrdinal,scaleLinear:i.scaleLinear,scaleTime:i.scaleTime,timeParse:c.timeParse,timeFormat:c.timeFormat,max:s.max,extent:s.extent,line:n.line,axisLeft:r.axisLeft,axisBottom:r.axisBottom,curveBasis:n.curveBasis,curveBundle:n.curveBundle,curveCardinal:n.curveCardinal,curveCatmullRom:n.curveCatmullRom,curveLinear:n.curveLinear,curveMonotoneX:n.curveMonotoneX,curveMonotoneY:n.curveMonotoneY,curveNatural:n.curveNatural,curveStep:n.curveStep,curveStepAfter:n.curveStepAfter,curveStepBefore:n.curveStepBefore,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},k=function(t,e,a){var i=this;void 0===a&&(a={}),this.selection=w.select(t),this.data=e,this.cfg={margin:{top:16,right:30,bottom:20,left:40},keys:["key"],labels:!1,dateField:"date",dateFormat:"%Y-%m-%d",dateFormatOutput:"%Y-%m-%d",colorScheme:"schemeCategory10",colorKeys:{},curve:"curveLinear",pointRadius:3,pointHoverRadius:6,yAxis:"",xScaleTicks:3,xScaleFormat:"%Y-%m-%d",yScaleTicks:5,yScaleFormat:".0f"},Object.keys(a).forEach(function(t){a[t]instanceof Object&&a[t]instanceof Array==!1?Object.keys(a[t]).forEach(function(e){i.cfg[t][e]=a[t][e]}):i.cfg[t]=a[t]}),this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom,this.cfg.colorScheme instanceof Array==!0?this.colorScale=w.scaleOrdinal().range(this.cfg.colorScheme):this.colorScale=w.scaleOrdinal(w[this.cfg.colorScheme]),this.parseTime=w.timeParse(this.cfg.dateFormat),this.formatTime=w.timeFormat(this.cfg.dateFormatOutput),this.tdata=[],this.cfg.keys.forEach(function(t,e){i.tdata[e]={},i.tdata[e].key=t,i.tdata[e].values=[]}),this.data.forEach(function(t){t.jsdate=i.parseTime(t[i.cfg.dateField])}),this.data.sort(function(t,e){return e.jsdate-t.jsdate}),this.data.forEach(function(t){t.min=9999999999,t.max=-9999999999,i.cfg.keys.forEach(function(e,a){i.tdata[a].values.push({x:t.jsdate,y:+t[e],k:a}),t[e]<t.min&&(t.min=+t[e]),t[e]>t.max&&(t.max=+t[e])})}),this.yScale=w.scaleLinear().domain([0,w.max(this.data,function(t){return t.max})]).rangeRound([this.cfg.height,0]),this.xScale=w.scaleTime().domain(w.extent(this.data,function(t){return t.jsdate})).rangeRound([0,this.cfg.width]),this.line=w.line().curve(w[this.cfg.curve]).x(function(t){return i.xScale(t.x)}).y(function(t){return i.yScale(t.y)}),this.redraw=function(){i.draw()},window.addEventListener("resize",this.redraw),this.initGraph()};k.prototype.initGraph=function(){var t=this;this.wrap=this.selection.append("div").attr("class","chart__wrap chart__wrap--linechart"),this.svg=this.wrap.append("svg").attr("class","chart chart--linechart").attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.g=this.svg.append("g").attr("class","chart__margin-wrap").attr("transform","translate("+this.cfg.margin.left+","+this.cfg.margin.top+")"),this.axisg=this.g.append("g").attr("class","chart__axis chart__axis--linechart"),this.yGrid=this.axisg.append("g").attr("class","chart__grid chart__grid--y chart__grid--linechart"),this.xAxis=this.axisg.append("g").attr("class","chart__axis-x chart__axis-x--linechart"),this.yAxis=this.axisg.append("g").attr("class","chart__axis-y chart__axis-y--linechart chart__grid"),this.cfg.yAxis&&(this.yAxisTitle=this.axisg.append("text").attr("class","chart__axis-title chart__axis-title--linechart").attr("y",10-this.cfg.margin.left).attr("x",-this.cfg.height/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(this.cfg.yAxis)),this.selection.selectAll(".chart__tooltip").remove(),this.tooltip=this.wrap.append("div").attr("class","chart__tooltip chart__tooltip--linechart"),this.linesg=this.g.selectAll(".chart__lines-group").data(this.tdata).enter().append("g").attr("class",function(t){return"chart__lines-group chart__lines-group--linechart chart__lines-group--"+t.key}),this.lines=this.linesg.append("path").attr("class","chart__line chart__line--linechart").attr("fill","transparent").attr("stroke",function(e){return t.lineColor(e)}).attr("d",function(e){return t.line(e.values)}),this.pointsg=[],this.cfg.keys.forEach(function(e,a){var i=t.g.selectAll(".chart__points-group--"+e).data(t.data).enter().append("g").attr("class","chart__points-group chart__points-group--linechart chart__points-group--"+e);i.append("circle").attr("class","chart__point-hover chart__point-hover--linechart").attr("fill","transparent").attr("r",t.cfg.pointHoverRadius).on("mouseover",function(i){t.tooltip.html(function(s){return"\n                            <div>"+(t.cfg.labels&&t.cfg.labels[a]?t.cfg.labels[a]:e)+": "+i[e]+"</div>\n                        "}).classed("active",!0)}).on("mouseout",function(e){t.tooltip.classed("active",!1)}).on("mousemove",function(e){t.tooltip.style("left",window.event.pageX-28+"px").style("top",window.event.pageY-40+"px")}),i.append("circle").attr("class","chart__point-visible chart__point-visible--linechart").attr("pointer-events","none").attr("fill",function(a){return t.lineColor(e)}).attr("r",t.cfg.pointRadius),t.pointsg.push({selection:i,key:e})}),this.draw()},k.prototype.draw=function(){var t=this;this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom,this.xScale.rangeRound([0,this.cfg.width]),this.yScale.rangeRound([this.cfg.height,0]),this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.yGrid.call(this.make_y_gridlines().tickSize(-this.cfg.width).ticks(this.cfg.yScaleTicks,this.cfg.yScaleFormat)),this.xAxis.attr("transform","translate(0,"+this.cfg.height+")").call(w.axisBottom(this.xScale).tickFormat(this.formatTime).ticks(this.cfg.xScaleTicks,this.cfg.xScaleFormat)),this.line=w.line().curve(w[this.cfg.curve]).x(function(e){return t.xScale(e.x)}).y(function(e){return t.yScale(e.y)}),this.lines.attr("d",function(e){return t.line(e.values)}),this.pointsg.forEach(function(e,a){e.selection.attr("transform",function(a){return"translate("+t.xScale(a.jsdate)+","+t.yScale(a[e.key])+")"})})},k.prototype.make_x_gridlines=function(){return w.axisBottom(this.xScale)},k.prototype.make_y_gridlines=function(){return w.axisLeft(this.yScale)},k.prototype.lineColor=function(t){return t.hasOwnProperty("key")||(t={key:t}),this.cfg.colorKeys&&this.cfg.colorKeys.hasOwnProperty(t.key)?this.cfg.colorKeys[t.data[this.cfg.key]]:this.colorScale(t.key)},k.prototype.destroyChart=function(){window.removeEventListener("resize",this.redraw)};var C=_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-40b184e1_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}",map:void 0,media:void 0})},{name:"D3LineChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new k(this.$refs.chart,[].concat(this.datum),this.config)},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,b,void 0),O={select:a.select,selectAll:a.selectAll,scaleLinear:i.scaleLinear,scaleOrdinal:i.scaleOrdinal,max:s.max,min:s.min,transition:h.transition,easeLinear:l.easeLinear,easePolyIn:l.easePolyIn,easePolyOut:l.easePolyOut,easePoly:l.easePoly,easePolyInOut:l.easePolyInOut,easeQuadIn:l.easeQuadIn,easeQuadOut:l.easeQuadOut,easeQuad:l.easeQuad,easeQuadInOut:l.easeQuadInOut,easeCubicIn:l.easeCubicIn,easeCubicOut:l.easeCubicOut,easeCubic:l.easeCubic,easeCubicInOut:l.easeCubicInOut,easeSinIn:l.easeSinIn,easeSinOut:l.easeSinOut,easeSin:l.easeSin,easeSinInOut:l.easeSinInOut,easeExpIn:l.easeExpIn,easeExpOut:l.easeExpOut,easeExp:l.easeExp,easeExpInOut:l.easeExpInOut,easeCircleIn:l.easeCircleIn,easeCircleOut:l.easeCircleOut,easeCircle:l.easeCircle,easeCircleInOut:l.easeCircleInOut,easeElasticIn:l.easeElasticIn,easeElastic:l.easeElastic,easeElasticOut:l.easeElasticOut,easeElasticInOut:l.easeElasticInOut,easeBackIn:l.easeBackIn,easeBackOut:l.easeBackOut,easeBack:l.easeBack,easeBackInOut:l.easeBackInOut,easeBounceIn:l.easeBounceIn,easeBounce:l.easeBounce,easeBounceOut:l.easeBounceOut,easeBounceInOut:l.easeBounceInOut,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},A=function(t,e,a){var i=this;void 0===a&&(a={}),this.selection=O.select(t),this.data=e,this.cfg={margin:{top:10,right:100,bottom:20,left:100},key:"",currentKey:!1,values:["start","end"],color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},axis:{titles:!1},points:{visibleRadius:3},opacity:.5,transition:{duration:350,ease:"easeLinear"}},Object.keys(a).forEach(function(t){a[t]instanceof Object&&a[t]instanceof Array==!1?Object.keys(a[t]).forEach(function(e){i.cfg[t][e]=a[t][e]}):i.cfg[t]=a[t]}),this.setDimensions(),this.yScale=O.scaleLinear(),this.onResize=function(){i.resizeChart()},window.addEventListener("resize",this.onResize),this.initChart()};A.prototype.initChart=function(){this.wrap=this.selection.append("div").attr("class","chart__wrap chart__wrap--slopechart"),this.svg=this.wrap.append("svg").attr("class","chart chart--slopegraph"),this.g=this.svg.append("g").attr("class","chart__margin-wrap").attr("transform","translate("+this.cfg.margin.left+","+this.cfg.margin.top+")");var t=this.g.append("g").attr("class","chart__axis chart__axis--slopechart");this.startAxis=t.append("line").attr("class","chart__axis-y chart__axis-y--slopechart chart__axis-y--start").attr("x1",0).attr("x2",0).attr("y1",0).attr("stroke",this.cfg.color.axis),this.endAxis=t.append("line").attr("class","chart__axis-y chart__axis-y--slopechart chart__axis-y--end").attr("y1",0).attr("stroke",this.cfg.color.axis),this.cfg.axis.titles&&(this.startl=t.append("text").attr("class","chart__axis-text chart__axis-text--slopechart chart__axis-text--start").attr("text-anchor","middle").attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12).text(this.cfg.axis.titles[0]),this.endl=t.append("text").attr("class","chart__axis-text chart__axis-text--slopechart chart__axis-text--end").attr("text-anchor","middle").attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12).text(this.cfg.axis.titles[1])),this.setChartDimension(),this.updateChart()},A.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.startAxis.attr("y2",this.cfg.height),this.endAxis.attr("x1",this.cfg.width).attr("x2",this.cfg.width).attr("y2",this.cfg.height),this.cfg.axis.titles&&(this.startl.attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12),this.endl.attr("x",this.cfg.width).attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12))},A.prototype.getData=function(){return this.data},A.prototype.enterData=function(t){this.data=this.data.concat(t),this.updateChart()},A.prototype.updateData=function(t){this.data=[].concat(t),this.updateChart()},A.prototype.exitData=function(t){var e=this;this.data.forEach(function(a,i){var s=0;Object.keys(t).forEach(function(e){t[e]==a[e]&&s++}),s==Object.keys(t).length&&e.data.splice(i,1)}),this.updateChart()},A.prototype.setDimensions=function(){this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom},A.prototype.setScales=function(){var t=this;this.yScale.rangeRound([this.cfg.height,0]).domain([O.min(this.data,function(e){return e[t.cfg.values[0]]<e[t.cfg.values[1]]?.9*e[t.cfg.values[0]]:.9*e[t.cfg.values[1]]}),O.max(this.data,function(e){return e[t.cfg.values[0]]>e[t.cfg.values[1]]?1.1*e[t.cfg.values[0]]:1.1*e[t.cfg.values[1]]})]),this.cfg.color.scheme&&(this.cfg.color.scheme instanceof Array==!0?this.colorScale=O.scaleOrdinal().range(this.cfg.color.scheme):this.colorScale=O.scaleOrdinal(O[this.cfg.color.scheme]))},A.prototype.bindData=function(){var t=this;this.linesgroup=this.g.selectAll(".chart__lines-group").data(this.data,function(e){return e[t.cfg.key]}),this.transition=O.transition("t").duration(this.cfg.transition.duration).ease(O[this.cfg.transition.ease])},A.prototype.enterElements=function(){var t=this,e=this.linesgroup.enter().append("g").attr("class",function(t){return"chart__lines-group chart__lines-group--slopechart"});e.append("line").attr("class","chart__line chart__line--slopechart").classed("chart__line--current",function(e){return t.cfg.currentKey&&e[t.cfg.key]==t.cfg.currentKey}).attr("stroke",function(e){return t.colorElement(e)}).style("opacity",this.cfg.opacity).attr("x1",0).attr("x2",this.cfg.width).transition(this.transition).attr("y1",function(e){return t.yScale(e[t.cfg.values[0]])}).attr("y2",function(e){return t.yScale(e[t.cfg.values[1]])});var a=e.append("g").attr("class","chart__points-group chart__points-group--slopechart chart__points-group--start");a.transition(this.transition).attr("transform",function(e){return"translate(0,"+t.yScale(e[t.cfg.values[0]])+")"}),a.append("circle").attr("class","chart__point chart__point--slopechart chart__point--start").attr("fill",function(e){return t.colorElement(e)}).attr("r",this.cfg.points.visibleRadius),a.append("text").attr("class","chart__label chart__label--slopechart chart__label--start").attr("text-anchor","end").attr("y",3).attr("x",-5).text(function(e){return e[t.cfg.key]+" "+e[t.cfg.values[0]]});var i=e.append("g").attr("class","chart__points-group chart__points-group--slopechart chart__points-group--end").attr("transform","translate("+this.cfg.width+",0)");i.transition(this.transition).attr("transform",function(e){return"translate("+t.cfg.width+","+t.yScale(e[t.cfg.values[1]])+")"}),i.append("circle").attr("class","chart__point chart__point--slopechart chart__point--end").attr("fill",function(e){return t.colorElement(e)}).attr("r",this.cfg.points.visibleRadius),i.append("text").attr("class","chart__label chart__label--slopechart chart__label--end").attr("text-anchor","start").attr("y",3).attr("x",5).text(function(e){return e[t.cfg.values[1]]+"  "+e[t.cfg.key]})},A.prototype.updateElements=function(){var t=this;this.linesgroup.selectAll(".chart__line").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("x1",0).attr("x2",this.cfg.width).attr("y1",function(e){return t.yScale(e[t.cfg.values[0]])}).attr("y2",function(e){return t.yScale(e[t.cfg.values[1]])}),this.linesgroup.selectAll(".chart__points-group--start").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("transform",function(e){return"translate(0,"+t.yScale(e[t.cfg.values[0]])+")"}),this.linesgroup.selectAll(".chart__label--start").data(this.data,function(e){return e[t.cfg.key]}).text(function(e){return e[t.cfg.key]+" "+e[t.cfg.values[0]]}),this.linesgroup.selectAll(".chart__points-group--end").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("transform",function(e){return"translate("+t.cfg.width+","+t.yScale(e[t.cfg.values[1]])+")"}),this.linesgroup.selectAll(".chart__label--end").data(this.data,function(e){return e[t.cfg.key]}).text(function(e){return e[t.cfg.values[1]]+"  "+e[t.cfg.key]})},A.prototype.exitElements=function(){this.linesgroup.exit().transition(this.transition).style("opacity",0).remove()},A.prototype.colorElement=function(t){if(this.cfg.color.key)return t[this.cfg.color.key];var e=this.cfg.currentKey?this.cfg.color.default:this.cfg.color.current;return this.cfg.color.scheme&&(e=this.colorScale(t[this.cfg.key])),this.cfg.color.keys&&this.cfg.color.keys instanceof Object&&this.cfg.color.keys instanceof Array==!1&&this.cfg.color.keys[t[this.cfg.key]]&&(e=this.cfg.color.keys[t[this.cfg.key]]),this.cfg.currentKey&&t[this.cfg.key]===this.cfg.currentKey&&(e=this.cfg.color.current),e},A.prototype.updateChart=function(){this.setScales(),this.bindData(),this.enterElements(),this.updateElements(),this.exitElements()},A.prototype.resizeChart=function(){this.setDimensions(),this.setScales(),this.setChartDimension(),this.updateChart()},A.prototype.destroyChart=function(){window.removeEventListener("resize",this.onResize)};var E={D3BarChart:S,D3LineChart:C,D3SlopeChart:_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-7b4328a4_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart--slopegraph .chart__line--current{stroke-width:2px}",map:void 0,media:void 0})},{name:"D3SlopeChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new A(this.$refs.chart,[].concat(this.datum),this.config)},watch:{datum:function(t){this.chart.updateData([].concat(t))}},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,b,void 0)};return Object.keys(E).forEach(function(t){e.component(t,E[t])}),t.default=E,t}({},Vue,d3Selection,d3Scale,d3Array,d3Axis,d3TimeFormat,d3Shape,d3ScaleChromatic,d3Transition,d3Ease);
