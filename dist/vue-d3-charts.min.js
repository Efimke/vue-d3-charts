var D3BarChart=function(t,e,a,i,s,n,r,c,o,h,l,u,f){"use strict";function p(t,e,a,i,s,n,r,c,o,h){"boolean"!=typeof r&&(o=c,c=r,r=!1);var l="function"==typeof a?a.options:a;t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,s&&(l.functional=!0)),i&&(l._scopeId=i);var u;if(n?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,o(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},l._ssrRegister=u):e&&(u=r?function(){e.call(this,h(this.$root.$options.shadowRoot))}:function(t){e.call(this,c(t))}),u)if(l.functional){var f=l.render;l.render=function(t,e){return u.call(e),f(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,u):[u]}return a}function d(t){return function(t,e){return g(t,e)}}function g(t,e){var a=b?e.media||"default":t,i=C[a]||(C[a]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var s=e.source;if(e.map&&(s+="\n/*# sourceURL="+e.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),I.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(s),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var n=i.ids.size-1,r=document.createTextNode(s),c=i.element.childNodes;c[n]&&i.element.removeChild(c[n]),c.length?i.element.insertBefore(r,c[n]):i.element.appendChild(r)}}}e=e&&e.hasOwnProperty("default")?e.default:e;var m={select:a.select},_=function(t,e,a,i){var s=this;this.selection=m.select(t),this.data=e,this.cfg=i,this._setConfig(a),this.onResize=function(){s.resizeChart()},window.addEventListener("resize",this.onResize),this.initChart()};_.prototype._setConfig=function(t){var e=this;Object.keys(t).forEach(function(a){t[a]instanceof Object&&t[a]instanceof Array==!1?Object.keys(t[a]).forEach(function(i){e.cfg[a][i]=t[a][i]}):e.cfg[a]=t[a]})},_.prototype.initChart=function(){console.error("d3chart.initChart not implemented")},_.prototype.setScales=function(){console.error("d3chart.setScales not implemented")},_.prototype.setChartDimension=function(){console.error("d3chart.setChartDimension not implemented")},_.prototype.bindData=function(){console.error("d3.chart.bindData not implemented")},_.prototype.enterElements=function(){console.error("d3.chart.enterElements not implemented")},_.prototype.updateElements=function(){console.error("d3.chart.updateElements not implemented")},_.prototype.exitElements=function(){console.error("d3.chart.exitElements not implemented")},_.prototype.getDimensions=function(){this.cfg.width=parseInt(this.selection.node().offsetWidth)-this.cfg.margin.left-this.cfg.margin.right,this.cfg.height=parseInt(this.selection.node().offsetHeight)-this.cfg.margin.top-this.cfg.margin.bottom},_.prototype.getData=function(){return this.data},_.prototype.enterData=function(t){this.data=this.data.concat(t),this.setScales(),this.updateChart()},_.prototype.updateData=function(t){this.data=[].concat(t),this.setScales(),this.updateChart()},_.prototype.computeData=function(){},_.prototype.exitData=function(t){var e=this;this.data.forEach(function(a,i){var s=0;Object.keys(t).forEach(function(e){t[e]==a[e]&&s++}),s==Object.keys(t).length&&e.data.splice(i,1)}),this.setScales(),this.updateChart()},_.prototype.initChartFrame=function(t){void 0===t&&(t="undefined"),this.wrap=this.selection.append("div").attr("class","chart__wrap chart__wrap--"+t),this.svg=this.wrap.append("svg").attr("class","chart chart--"+t),this.g=this.svg.append("g").attr("class","chart__margin-wrap chart__margin-wrap--"+t).attr("transform","translate("+this.cfg.margin.left+","+this.cfg.margin.top+")"),this.selection.selectAll(".chart__tooltip").remove(),this.tooltip=this.wrap.append("div").attr("class","chart__tooltip chart__tooltip--"+t)},_.prototype.colorElement=function(t,e){if(void 0===e&&(e=void 0),e=e||this.cfg.key,this.cfg.color.key)return t[this.cfg.color.key];var a=this.cfg.currentKey?this.cfg.color.default:this.cfg.color.current;return this.cfg.color.scheme&&(a=this.colorScale(t[e])),this.cfg.color.keys&&this.cfg.color.keys instanceof Object&&this.cfg.color.keys instanceof Array==!1&&this.cfg.color.keys[t[e]]&&(a=this.cfg.color.keys[t[e]]),this.cfg.currentKey&&t[this.cfg.key]===this.cfg.currentKey&&(a=this.cfg.color.current),a},_.prototype.updateChart=function(){this.computeData(),this.bindData(),this.setScales(),this.enterElements(),this.updateElements(),this.exitElements()},_.prototype.resizeChart=function(){this.getDimensions(),this.setChartDimension(),this.updateChart()},_.prototype.updateConfig=function(t){this._setConfig(t),this.resizeChart()},_.prototype.destroyChart=function(){window.removeEventListener("resize",this.onResize)};var y={select:a.select,selectAll:a.selectAll,scaleBand:i.scaleBand,scaleLinear:i.scaleLinear,scaleOrdinal:i.scaleOrdinal,max:s.max,transition:n.transition,axisBottom:r.axisBottom,axisLeft:r.axisLeft,easeLinear:c.easeLinear,easePolyIn:c.easePolyIn,easePolyOut:c.easePolyOut,easePoly:c.easePoly,easePolyInOut:c.easePolyInOut,easeQuadIn:c.easeQuadIn,easeQuadOut:c.easeQuadOut,easeQuad:c.easeQuad,easeQuadInOut:c.easeQuadInOut,easeCubicIn:c.easeCubicIn,easeCubicOut:c.easeCubicOut,easeCubic:c.easeCubic,easeCubicInOut:c.easeCubicInOut,easeSinIn:c.easeSinIn,easeSinOut:c.easeSinOut,easeSin:c.easeSin,easeSinInOut:c.easeSinInOut,easeExpIn:c.easeExpIn,easeExpOut:c.easeExpOut,easeExp:c.easeExp,easeExpInOut:c.easeExpInOut,easeCircleIn:c.easeCircleIn,easeCircleOut:c.easeCircleOut,easeCircle:c.easeCircle,easeCircleInOut:c.easeCircleInOut,easeElasticIn:c.easeElasticIn,easeElastic:c.easeElastic,easeElasticOut:c.easeElasticOut,easeElasticInOut:c.easeElasticInOut,easeBackIn:c.easeBackIn,easeBackOut:c.easeBackOut,easeBack:c.easeBack,easeBackInOut:c.easeBackInOut,easeBounceIn:c.easeBounceIn,easeBounce:c.easeBounce,easeBounceOut:c.easeBounceOut,easeBounceInOut:c.easeBounceInOut,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},x=function(t){function e(e,a,i){t.call(this,e,a,i,{margin:{top:10,right:30,bottom:20,left:40},key:"key",currentKey:!1,value:"value",labelRotation:0,color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},axis:{yTitle:!1,xTitle:!1,yFormat:".0f",xFormat:".0f",yTicks:10,xTicks:10},tooltip:{label:!1},transition:{duration:350,ease:"easeLinear"}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initChart=function(){this.getDimensions(),this.initChartFrame("barchart"),this.xScale=y.scaleBand(),this.yScale=y.scaleLinear(),this.axisg=this.g.append("g").attr("class","chart__axis chart__axis--barchart"),this.yGrid=this.axisg.append("g").attr("class","chart__grid chart__grid--y chart__grid--barchart"),this.xAxis=this.axisg.append("g").attr("class","chart__axis-x chart__axis-x--barchart"),this.cfg.axis.yTitle&&(this.yAxisTitle=this.axisg.append("text").attr("class","chart__axis-title chart__axis-title--barchart").attr("transform","rotate(-90)").style("text-anchor","middle")),this.setChartDimension(),this.updateChart()},e.prototype.setScales=function(){var t=this;this.xScale.rangeRound([0,this.cfg.width]).padding(.1).domain(this.data.map(function(e){return e[t.cfg.key]})),this.yScale.rangeRound([0,this.cfg.height]).domain([y.max(this.data,function(e){return+e[t.cfg.value]}),0]),this.cfg.color.scheme instanceof Array==!0?this.colorScale=y.scaleOrdinal().range(this.cfg.color.scheme):"string"==typeof this.cfg.color.scheme&&(this.colorScale=y.scaleOrdinal(y[this.cfg.color.scheme])),this.yGrid.call(y.axisLeft(this.yScale).tickSize(-this.cfg.width).ticks(this.cfg.axis.yTicks,this.cfg.axis.yFormat)),this.xAxis.attr("transform","translate(0,"+this.cfg.height+")").call(y.axisBottom(this.xScale))},e.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.cfg.axis.yTitle&&this.yAxisTitle.attr("y",10-this.cfg.margin.left).attr("x",-this.cfg.height/2).text(this.cfg.axis.yTitle),0!=this.cfg.labelRotation&&this.xAxis.selectAll("text").attr("y",9*Math.cos(this.cfg.labelRotation*Math.PI/180)).attr("x",9*Math.sin(this.cfg.labelRotation*Math.PI/180)).attr("dy",".35em").attr("transform","rotate("+this.cfg.labelRotation+")").style("text-anchor","start")},e.prototype.bindData=function(){var t=this;this.transition=y.transition("t").duration(this.cfg.transition.duration).ease(y[this.cfg.transition.ease]),this.itemg=this.g.selectAll(".chart__bar-group").data(this.data,function(e){return e[t.cfg.key]})},e.prototype.enterElements=function(){var t=this;this.itemg.enter().append("g").attr("class","chart__bar-group chart__bar-group--barchart").attr("transform",function(e){return"translate("+t.xScale(e[t.cfg.key])+",0)"}).append("rect").attr("class","chart__bar chart__bar--barchart").classed("chart__bar--current",function(e){return t.cfg.currentKey&&e[t.cfg.key]==t.cfg.currentKey}).attr("x",0).attr("y",this.cfg.height).attr("height",0).on("mouseover",function(e){t.tooltip.html(function(){return"<div>"+e[t.cfg.key]+": "+e[t.cfg.value]+"</div>"}).classed("active",!0)}).on("mouseout",function(){t.tooltip.classed("active",!1)}).on("mousemove",function(){t.tooltip.style("left",window.event.pageX-28+"px").style("top",window.event.pageY-40+"px")})},e.prototype.updateElements=function(){var t=this;this.itemg.transition(this.transition).attr("transform",function(e){return"translate("+t.xScale(e[t.cfg.key])+",0)"}),this.g.selectAll(".chart__bar").transition(this.transition).attr("fill",function(e){return t.colorElement(e)}).attr("width",this.xScale.bandwidth()).attr("y",function(e){return t.yScale(+e[t.cfg.value])}).attr("height",function(e){return t.cfg.height-t.yScale(+e[t.cfg.value])})},e.prototype.exitElements=function(){this.itemg.exit().transition(this.transition).style("opacity",0).remove()},e}(_),v={name:"D3BarChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new x(this.$refs.chart,[].concat(this.datum),this.config)},watch:{config:{handler:function(t){this.chart.updateConfig(t)},deep:!0},datum:function(t){this.chart.updateData([].concat(t))}},beforeDestroy:function(){this.chart.destroyChart()}},O=p,b="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),I=document.head||document.getElementsByTagName("head")[0],C={},S=d,k=O({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-0a5aade8_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart .clickable{cursor:pointer}",map:void 0,media:void 0})},v,void 0,!1,void 0,S,void 0),E={select:a.select,selectAll:a.selectAll,scaleOrdinal:i.scaleOrdinal,scaleLinear:i.scaleLinear,scaleTime:i.scaleTime,timeParse:h.timeParse,timeFormat:h.timeFormat,max:s.max,extent:s.extent,line:l.line,transition:n.transition,axisLeft:r.axisLeft,axisBottom:r.axisBottom,easeLinear:c.easeLinear,easePolyIn:c.easePolyIn,easePolyOut:c.easePolyOut,easePoly:c.easePoly,easePolyInOut:c.easePolyInOut,easeQuadIn:c.easeQuadIn,easeQuadOut:c.easeQuadOut,easeQuad:c.easeQuad,easeQuadInOut:c.easeQuadInOut,easeCubicIn:c.easeCubicIn,easeCubicOut:c.easeCubicOut,easeCubic:c.easeCubic,easeCubicInOut:c.easeCubicInOut,easeSinIn:c.easeSinIn,easeSinOut:c.easeSinOut,easeSin:c.easeSin,easeSinInOut:c.easeSinInOut,easeExpIn:c.easeExpIn,easeExpOut:c.easeExpOut,easeExp:c.easeExp,easeExpInOut:c.easeExpInOut,easeCircleIn:c.easeCircleIn,easeCircleOut:c.easeCircleOut,easeCircle:c.easeCircle,easeCircleInOut:c.easeCircleInOut,easeElasticIn:c.easeElasticIn,easeElastic:c.easeElastic,easeElasticOut:c.easeElasticOut,easeElasticInOut:c.easeElasticInOut,easeBackIn:c.easeBackIn,easeBackOut:c.easeBackOut,easeBack:c.easeBack,easeBackInOut:c.easeBackInOut,easeBounceIn:c.easeBounceIn,easeBounce:c.easeBounce,easeBounceOut:c.easeBounceOut,easeBounceInOut:c.easeBounceInOut,curveBasis:l.curveBasis,curveBundle:l.curveBundle,curveCardinal:l.curveCardinal,curveCatmullRom:l.curveCatmullRom,curveLinear:l.curveLinear,curveMonotoneX:l.curveMonotoneX,curveMonotoneY:l.curveMonotoneY,curveNatural:l.curveNatural,curveStep:l.curveStep,curveStepAfter:l.curveStepAfter,curveStepBefore:l.curveStepBefore,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},A=function(t){function e(e,a,i){t.call(this,e,a,i,{margin:{top:20,right:20,bottom:20,left:40},values:[],date:{key:!1,inputFormat:"%Y-%m-%d",outputFormat:"%Y-%m-%d"},color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},curve:"curveLinear",points:{visibleSize:3,hoverSize:6},axis:{yTitle:!1,xTitle:!1,yFormat:".0f",xFormat:"%Y-%m-%d",yTicks:5,xTicks:3},tooltip:{labels:!1},transition:{duration:350,ease:"easeLinear"}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initChart=function(){this.getDimensions(),this.initChartFrame("linechart"),this.parseTime=E.timeParse(this.cfg.date.inputFormat),this.formatTime=E.timeFormat(this.cfg.date.outputFormat),this.yScale=E.scaleLinear(),this.xScale=E.scaleTime(),this.axisg=this.g.append("g").attr("class","chart__axis chart__axis--linechart"),this.yGrid=this.axisg.append("g").attr("class","chart__grid chart__grid--y chart__grid--linechart"),this.xAxis=this.axisg.append("g").attr("class","chart__axis-x chart__axis-x--linechart"),this.yAxis=this.axisg.append("g").attr("class","chart__axis-y chart__axis-y--linechart chart__grid"),this.cfg.axis.yTitle&&(this.yAxisTitle=this.axisg.append("text").attr("class","chart__axis-title chart__axis-title--linechart").attr("transform","rotate(-90)").style("text-anchor","middle")),this.setChartDimension(),this.updateChart()},e.prototype.computeData=function(){var t=this,e=[];this.cfg.values.forEach(function(t,a){e[a]={},e[a].key=t,e[a].values=[]}),this.data.forEach(function(e){e.jsdate=t.parseTime(e[t.cfg.date.key])}),this.data.sort(function(t,e){return e.jsdate-t.jsdate}),this.data.forEach(function(a){a.min=1e19,a.max=-1e19,t.cfg.values.forEach(function(t,i){e[i].values.push({x:a.jsdate,y:+a[t],k:i}),a[t]<a.min&&(a.min=+a[t]),a[t]>a.max&&(a.max=+a[t])})}),this.tData=e},e.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.cfg.axis.yTitle&&this.yAxisTitle.attr("y",10-this.cfg.margin.left).attr("x",-this.cfg.height/2).text(this.cfg.axis.yTitle)},e.prototype.setScales=function(){var t=this;this.yScale.domain([0,E.max(this.data,function(t){return t.max})]).rangeRound([this.cfg.height,0]),this.xScale.domain(E.extent(this.data,function(t){return t.jsdate})).rangeRound([0,this.cfg.width]),this.cfg.color.scheme instanceof Array==!0?this.colorScale=E.scaleOrdinal().range(this.cfg.color.scheme):"string"==typeof this.cfg.color.scheme&&(this.colorScale=E.scaleOrdinal(E[this.cfg.color.scheme])),this.line=E.line().x(function(e){return t.xScale(e.x)}).y(function(e){return t.yScale(e.y)}).curve(E[this.cfg.curve]),this.yGrid.call(E.axisLeft(this.yScale).tickSize(-this.cfg.width).ticks(this.cfg.axis.yTicks,this.cfg.axis.yFormat)),this.xAxis.attr("transform","translate(0,"+this.cfg.height+")").call(E.axisBottom(this.xScale).tickFormat(this.formatTime).ticks(this.cfg.axis.xTicks,this.cfg.axis.xFormat))},e.prototype.bindData=function(){this.transition=E.transition("t").duration(this.cfg.transition.duration).ease(E[this.cfg.transition.ease]),this.linesgroup=this.g.selectAll(".chart__lines-group").data(this.tData),!1!==this.cfg.points&&(this.pointsg&&this.pointsg instanceof Array!=!1||(this.pointsg=[]))},e.prototype.enterElements=function(){var t=this;this.linesgroup.enter().append("g").attr("class","chart__lines-group chart__lines-group--linechart").append("path").attr("class","chart__line chart__line--linechart").attr("fill","transparent").attr("d",function(e){return t.line(e.values.map(function(t){return{y:0,x:t.x,k:t.k}}))}),!1!==this.cfg.points&&this.cfg.values.forEach(function(e,a){var i=t.g.selectAll(".chart__points-group--"+e).data(t.data).enter().append("g").attr("class","chart__points-group chart__points-group--linechart chart__points-group--"+e).attr("transform",function(e){return"translate("+t.xScale(e.jsdate)+","+t.cfg.height+")"});i.append("circle").attr("class","chart__point-hover chart__point-hover--linechart").attr("fill","transparent").attr("r",t.cfg.points.hoverSize).on("mouseover",function(i){t.tooltip.html(function(s){return"\n                            <div>"+(t.cfg.tooltip.labels&&t.cfg.tooltip.labels[a]?t.cfg.tooltip.labels[a]:e)+": "+i[e]+"</div>\n                        "}).classed("active",!0)}).on("mouseout",function(e){t.tooltip.classed("active",!1)}).on("mousemove",function(e){t.tooltip.style("left",window.event.pageX-28+"px").style("top",window.event.pageY-40+"px")}),i.append("circle").attr("class","chart__point-visible chart__point-visible--linechart").attr("pointer-events","none"),t.pointsg.push({selection:i,key:e})})},e.prototype.updateElements=function(){var t=this;this.linesgroup.attr("stroke",function(e){return t.colorElement(e,"key")}),this.g.selectAll(".chart__line").attr("stroke",function(e){return t.colorElement(e,"key")}).transition(this.transition).attr("d",function(e){return t.line(e.values)}),!1!==this.cfg.points&&this.pointsg.forEach(function(e,a){e.selection.transition(t.transition).attr("transform",function(a){return"translate("+t.xScale(a.jsdate)+","+t.yScale(a[e.key])+")"}),e.selection.selectAll(".chart__point-visible").attr("fill",function(a){return t.colorElement(e,"key")}).attr("r",t.cfg.points.visibleSize),e.selection.selectAll(".chart__point-hover").attr("r",t.cfg.points.hoverSize)})},e.prototype.exitElements=function(){this.linesgroup.exit().transition(this.transition).style("opacity",0).remove()},e}(_),w=O({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-1ae8160d_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart .clickable{cursor:pointer}",map:void 0,media:void 0})},{name:"D3LineChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new A(this.$refs.chart,[].concat(this.datum),this.config)},watch:{config:{handler:function(t){this.chart.updateConfig(t)},deep:!0},datum:function(t){this.chart.updateData([].concat(t))}},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,S,void 0),B={select:a.select,selectAll:a.selectAll,scaleLinear:i.scaleLinear,scaleOrdinal:i.scaleOrdinal,max:s.max,min:s.min,transition:n.transition,easeLinear:c.easeLinear,easePolyIn:c.easePolyIn,easePolyOut:c.easePolyOut,easePoly:c.easePoly,easePolyInOut:c.easePolyInOut,easeQuadIn:c.easeQuadIn,easeQuadOut:c.easeQuadOut,easeQuad:c.easeQuad,easeQuadInOut:c.easeQuadInOut,easeCubicIn:c.easeCubicIn,easeCubicOut:c.easeCubicOut,easeCubic:c.easeCubic,easeCubicInOut:c.easeCubicInOut,easeSinIn:c.easeSinIn,easeSinOut:c.easeSinOut,easeSin:c.easeSin,easeSinInOut:c.easeSinInOut,easeExpIn:c.easeExpIn,easeExpOut:c.easeExpOut,easeExp:c.easeExp,easeExpInOut:c.easeExpInOut,easeCircleIn:c.easeCircleIn,easeCircleOut:c.easeCircleOut,easeCircle:c.easeCircle,easeCircleInOut:c.easeCircleInOut,easeElasticIn:c.easeElasticIn,easeElastic:c.easeElastic,easeElasticOut:c.easeElasticOut,easeElasticInOut:c.easeElasticInOut,easeBackIn:c.easeBackIn,easeBackOut:c.easeBackOut,easeBack:c.easeBack,easeBackInOut:c.easeBackInOut,easeBounceIn:c.easeBounceIn,easeBounce:c.easeBounce,easeBounceOut:c.easeBounceOut,easeBounceInOut:c.easeBounceInOut,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},P=function(t){function e(e,a,i){t.call(this,e,a,i,{margin:{top:10,right:100,bottom:20,left:100},key:"",currentKey:!1,values:["start","end"],color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},axis:{titles:!1},points:{visibleRadius:3},opacity:.5,transition:{duration:350,ease:"easeLinear"}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initChart=function(){this.getDimensions(),this.initChartFrame("slopechart"),this.yScale=B.scaleLinear();var t=this.g.append("g").attr("class","chart__axis chart__axis--slopechart");this.startAxis=t.append("line").attr("class","chart__axis-y chart__axis-y--slopechart chart__axis-y--start").attr("x1",0).attr("x2",0).attr("y1",0).attr("stroke",this.cfg.color.axis),this.endAxis=t.append("line").attr("class","chart__axis-y chart__axis-y--slopechart chart__axis-y--end").attr("y1",0).attr("stroke",this.cfg.color.axis),this.cfg.axis.titles&&(this.startl=t.append("text").attr("class","chart__axis-text chart__axis-text--slopechart chart__axis-text--start").attr("text-anchor","middle").attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12).text(this.cfg.axis.titles[0]),this.endl=t.append("text").attr("class","chart__axis-text chart__axis-text--slopechart chart__axis-text--end").attr("text-anchor","middle").attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12).text(this.cfg.axis.titles[1])),this.setChartDimension(),this.updateChart()},e.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.startAxis.attr("y2",this.cfg.height),this.endAxis.attr("x1",this.cfg.width).attr("x2",this.cfg.width).attr("y2",this.cfg.height),this.cfg.axis.titles&&(this.startl.attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12),this.endl.attr("x",this.cfg.width).attr("y",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom-12))},e.prototype.setScales=function(){var t=this;this.yScale.rangeRound([this.cfg.height,0]).domain([B.min(this.data,function(e){return e[t.cfg.values[0]]<e[t.cfg.values[1]]?.9*e[t.cfg.values[0]]:.9*e[t.cfg.values[1]]}),B.max(this.data,function(e){return e[t.cfg.values[0]]>e[t.cfg.values[1]]?1.1*e[t.cfg.values[0]]:1.1*e[t.cfg.values[1]]})]),this.cfg.color.scheme&&(this.cfg.color.scheme instanceof Array==!0?this.colorScale=B.scaleOrdinal().domain(this.data.map(function(e){return e[t.cfg.key]})).range(this.cfg.color.scheme):this.colorScale=B.scaleOrdinal(B[this.cfg.color.scheme]).domain(this.data.map(function(e){return e[t.cfg.key]})))},e.prototype.bindData=function(){var t=this;this.linesgroup=this.g.selectAll(".chart__lines-group").data(this.data,function(e){return e[t.cfg.key]}),this.transition=B.transition("t").duration(this.cfg.transition.duration).ease(B[this.cfg.transition.ease])},e.prototype.enterElements=function(){var t=this,e=this.linesgroup.enter().append("g").attr("class","chart__lines-group chart__lines-group--slopechart");e.append("line").attr("class","chart__line chart__line--slopechart").classed("chart__line--current",function(e){return t.cfg.currentKey&&e[t.cfg.key]==t.cfg.currentKey}).attr("stroke",function(e){return t.colorElement(e)}).style("opacity",this.cfg.opacity).attr("x1",0).attr("x2",this.cfg.width).transition(this.transition).attr("y1",function(e){return t.yScale(e[t.cfg.values[0]])}).attr("y2",function(e){return t.yScale(e[t.cfg.values[1]])});var a=e.append("g").attr("class","chart__points-group chart__points-group--slopechart chart__points-group--start");a.transition(this.transition).attr("transform",function(e){return"translate(0,"+t.yScale(e[t.cfg.values[0]])+")"}),a.append("circle").attr("class","chart__point chart__point--slopechart chart__point--start").attr("fill",function(e){return t.colorElement(e)}).attr("r",this.cfg.points.visibleRadius),a.append("text").attr("class","chart__label chart__label--slopechart chart__label--start").attr("text-anchor","end").attr("y",3).attr("x",-5).text(function(e){return e[t.cfg.key]+" "+e[t.cfg.values[0]]});var i=e.append("g").attr("class","chart__points-group chart__points-group--slopechart chart__points-group--end").attr("transform","translate("+this.cfg.width+",0)");i.transition(this.transition).attr("transform",function(e){return"translate("+t.cfg.width+","+t.yScale(e[t.cfg.values[1]])+")"}),i.append("circle").attr("class","chart__point chart__point--slopechart chart__point--end").attr("fill",function(e){return t.colorElement(e)}).attr("r",this.cfg.points.visibleRadius),i.append("text").attr("class","chart__label chart__label--slopechart chart__label--end").attr("text-anchor","start").attr("y",3).attr("x",5).text(function(e){return e[t.cfg.values[1]]+"  "+e[t.cfg.key]})},e.prototype.updateElements=function(){var t=this;this.linesgroup.selectAll(".chart__line").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("x1",0).attr("x2",this.cfg.width).attr("y1",function(e){return t.yScale(e[t.cfg.values[0]])}).attr("y2",function(e){return t.yScale(e[t.cfg.values[1]])}),this.linesgroup.selectAll(".chart__points-group--start").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("transform",function(e){return"translate(0,"+t.yScale(e[t.cfg.values[0]])+")"}),this.linesgroup.selectAll(".chart__label--start").data(this.data,function(e){return e[t.cfg.key]}).text(function(e){return e[t.cfg.key]+" "+e[t.cfg.values[0]]}),this.linesgroup.selectAll(".chart__points-group--end").data(this.data,function(e){return e[t.cfg.key]}).transition(this.transition).attr("transform",function(e){return"translate("+t.cfg.width+","+t.yScale(e[t.cfg.values[1]])+")"}),this.linesgroup.selectAll(".chart__label--end").data(this.data,function(e){return e[t.cfg.key]}).text(function(e){return e[t.cfg.values[1]]+"  "+e[t.cfg.key]})},e.prototype.exitElements=function(){this.linesgroup.exit().transition(this.transition).style("opacity",0).remove()},e}(_),D=O({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-f0678048_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart .clickable{cursor:pointer}.chart--slopegraph .chart__line--current{stroke-width:2px}",map:void 0,media:void 0})},{name:"D3SlopeChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new P(this.$refs.chart,[].concat(this.datum),this.config)},watch:{config:{handler:function(t){this.chart.updateConfig(t)},deep:!0},datum:function(t){this.chart.updateData([].concat(t))}},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,S,void 0),T={select:a.select,selectAll:a.selectAll,scaleLinear:i.scaleLinear,scaleOrdinal:i.scaleOrdinal,max:s.max,min:s.min,transition:n.transition,pie:l.pie,arc:l.arc,interpolate:u.interpolate,easeLinear:c.easeLinear,easePolyIn:c.easePolyIn,easePolyOut:c.easePolyOut,easePoly:c.easePoly,easePolyInOut:c.easePolyInOut,easeQuadIn:c.easeQuadIn,easeQuadOut:c.easeQuadOut,easeQuad:c.easeQuad,easeQuadInOut:c.easeQuadInOut,easeCubicIn:c.easeCubicIn,easeCubicOut:c.easeCubicOut,easeCubic:c.easeCubic,easeCubicInOut:c.easeCubicInOut,easeSinIn:c.easeSinIn,easeSinOut:c.easeSinOut,easeSin:c.easeSin,easeSinInOut:c.easeSinInOut,easeExpIn:c.easeExpIn,easeExpOut:c.easeExpOut,easeExp:c.easeExp,easeExpInOut:c.easeExpInOut,easeCircleIn:c.easeCircleIn,easeCircleOut:c.easeCircleOut,easeCircle:c.easeCircle,easeCircleInOut:c.easeCircleInOut,easeElasticIn:c.easeElasticIn,easeElastic:c.easeElastic,easeElasticOut:c.easeElasticOut,easeElasticInOut:c.easeElasticInOut,easeBackIn:c.easeBackIn,easeBackOut:c.easeBackOut,easeBack:c.easeBack,easeBackInOut:c.easeBackInOut,easeBounceIn:c.easeBounceIn,easeBounce:c.easeBounce,easeBounceOut:c.easeBounceOut,easeBounceInOut:c.easeBounceInOut,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},L=function(t){function e(e,a,i){t.call(this,e,a,i,{margin:{top:40,right:20,bottom:40,left:20},key:"",currentKey:!1,value:"value",color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},radius:{inner:!1,outter:!1},transition:{duration:350,ease:"easeLinear"}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initChart=function(){var t=this;if(this.getDimensions(),this.initChartFrame("piechart"),this.cScale=T.scaleOrdinal(),this.arc=T.arc(),this.outerArc=T.arc(),this.pie=T.pie().sort(null).value(function(e){return e[t.cfg.value]}),this.cfg.radius&&this.cfg.radius.inner){var e=this.cfg.radius.outter?this.cfg.radius.outter:Math.min(this.cfg.width,this.cfg.height)/2;this.cfg.radius.relation=this.cfg.radius.inner?this.cfg.radius.inner/e:0}this.gcenter=this.g.append("g"),this.setChartDimension(),this.updateChart()},e.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.gcenter.attr("transform","translate("+this.cfg.width/2+", "+this.cfg.height/2+")")},e.prototype.bindData=function(){var t=this;this.itemg=this.gcenter.selectAll(".chart__slice-group").data(this.pie(this.data),function(e){return e.data[t.cfg.key]}),this.transition=T.transition("t").duration(this.cfg.transition.duration).ease(T[this.cfg.transition.ease])},e.prototype.setScales=function(){var t=this;this.cfg.radius.outter=this.cfg.radius&&this.cfg.radius.outter?this.cfg.radius.outter:Math.min(this.cfg.width,this.cfg.height)/2;var e=this.cfg.radius&&this.cfg.radius.inner?this.cfg.radius.inner:0;this.cfg.radius.relation&&(e=this.cfg.radius.outter*this.cfg.radius.relation),this.arc=T.arc().outerRadius(this.cfg.radius.outter).innerRadius(e),this.outerArc=T.arc().outerRadius(1.1*this.cfg.radius.outter).innerRadius(1.1*this.cfg.radius.outter),this.pie=T.pie().sort(null).value(function(e){return e[t.cfg.value]}),this.cfg.color.scheme&&(this.cfg.color.scheme instanceof Array==!0?this.colorScale=T.scaleOrdinal().domain(this.data.map(function(e){return e[t.cfg.key]})).range(this.cfg.color.scheme):this.colorScale=T.scaleOrdinal(T[this.cfg.color.scheme]).domain(this.data.map(function(e){return e[t.cfg.key]})))},e.prototype.enterElements=function(){var t=this,e=this.itemg.enter().append("g").attr("class","chart__slice-group chart__slice-group--piechart");e.append("path").attr("class","chart__slice chart__slice--piechart").transition(this.transition).delay(function(e,a){return a*t.cfg.transition.duration}).attrTween("d",function(e){var a=T.interpolate(e.startAngle+.1,e.endAngle);return function(i){return e.endAngle=a(i),t.arc(e)}}).style("fill",function(e){return t.colorElement(e.data)}).style("opacity",1),e.append("text").attr("class","chart__label chart__label--piechart").style("opacity",0).attr("transform",function(e){var a=t.outerArc.centroid(e);return a[0]=t.cfg.radius.outter*(t.midAngle(e)<Math.PI?1.1:-1.1),"translate("+a+")"}).attr("text-anchor",function(e){return t.midAngle(e)<Math.PI?"start":"end"}).text(function(e){return e.data[t.cfg.key]}).transition(this.transition).delay(function(e,a){return a*t.cfg.transition.duration}).style("opacity",1),e.append("polyline").attr("class","chart__line chart__line--piechart").style("opacity",0).attr("points",function(e){var a=t.outerArc.centroid(e);return a[0]=.95*t.cfg.radius.outter*(t.midAngle(e)<Math.PI?1.1:-1.1),[t.arc.centroid(e),t.outerArc.centroid(e),a]}).transition(this.transition).delay(function(e,a){return a*t.cfg.transition.duration}).style("opacity",1)},e.prototype.updateElements=function(){var t=this;this.itemg.selectAll(".chart__slice").style("opacity",0).data(this.pie(this.data),function(e){return e.data[t.cfg.key]}).transition(this.transition).delay(function(e,a){return a*t.cfg.transition.duration}).attrTween("d",function(e){var a=T.interpolate(e.startAngle+.1,e.endAngle);return function(i){return e.endAngle=a(i),t.arc(e)}}).style("fill",function(e){return t.colorElement(e.data)}).style("opacity",1),this.itemg.selectAll(".chart__label").data(this.pie(this.data),function(e){return e.data[t.cfg.key]}).text(function(e){return e.data[t.cfg.key]}).transition(this.transition).attr("transform",function(e){var a=t.outerArc.centroid(e);return a[0]=t.cfg.radius.outter*(t.midAngle(e)<Math.PI?1.1:-1.1),"translate("+a+")"}).attr("text-anchor",function(e){return t.midAngle(e)<Math.PI?"start":"end"}),this.itemg.selectAll(".chart__line").data(this.pie(this.data),function(e){return e.data[t.cfg.key]}).transition(this.transition).attr("points",function(e){var a=t.outerArc.centroid(e);return a[0]=.95*t.cfg.radius.outter*(t.midAngle(e)<Math.PI?1.1:-1.1),[t.arc.centroid(e),t.outerArc.centroid(e),a]})},e.prototype.exitElements=function(){this.itemg.exit().transition(this.transition).style("opacity",0).remove()},e.prototype.midAngle=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},e.prototype.arcTween=function(t){var e=this,a=T.interpolate(this._current,t);return this._current=a(0),function(t){return e.arc(a(t))}},e}(_),Q=O({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-0a99559a_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart .clickable{cursor:pointer}.chart--piechart .chart__line{fill:none;stroke:#000}",map:void 0,media:void 0})},{name:"D3PieChart",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new L(this.$refs.chart,[].concat(this.datum),this.config)},watch:{config:{handler:function(t){this.chart.updateConfig(t)},deep:!0},datum:function(t){this.chart.updateData([].concat(t))}},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,S,void 0),R={select:a.select,selectAll:a.selectAll,scaleLinear:i.scaleLinear,scaleOrdinal:i.scaleOrdinal,scaleSqrt:i.scaleSqrt,hierarchy:f.hierarchy,partition:f.partition,arc:l.arc,transition:n.transition,interpolate:u.interpolate,easeLinear:c.easeLinear,easePolyIn:c.easePolyIn,easePolyOut:c.easePolyOut,easePoly:c.easePoly,easePolyInOut:c.easePolyInOut,easeQuadIn:c.easeQuadIn,easeQuadOut:c.easeQuadOut,easeQuad:c.easeQuad,easeQuadInOut:c.easeQuadInOut,easeCubicIn:c.easeCubicIn,easeCubicOut:c.easeCubicOut,easeCubic:c.easeCubic,easeCubicInOut:c.easeCubicInOut,easeSinIn:c.easeSinIn,easeSinOut:c.easeSinOut,easeSin:c.easeSin,easeSinInOut:c.easeSinInOut,easeExpIn:c.easeExpIn,easeExpOut:c.easeExpOut,easeExp:c.easeExp,easeExpInOut:c.easeExpInOut,easeCircleIn:c.easeCircleIn,easeCircleOut:c.easeCircleOut,easeCircle:c.easeCircle,easeCircleInOut:c.easeCircleInOut,easeElasticIn:c.easeElasticIn,easeElastic:c.easeElastic,easeElasticOut:c.easeElasticOut,easeElasticInOut:c.easeElasticInOut,easeBackIn:c.easeBackIn,easeBackOut:c.easeBackOut,easeBack:c.easeBack,easeBackInOut:c.easeBackInOut,easeBounceIn:c.easeBounceIn,easeBounce:c.easeBounce,easeBounceOut:c.easeBounceOut,easeBounceInOut:c.easeBounceInOut,schemeCategory10:o.schemeCategory10,schemeAccent:o.schemeAccent,schemeDark2:o.schemeDark2,schemePaired:o.schemePaired,schemePastel1:o.schemePastel1,schemePastel2:o.schemePastel2,schemeSet1:o.schemeSet1,schemeSet2:o.schemeSet2,schemeSet3:o.schemeSet3,schemeTableau10:o.schemeTableau10},z=function(t){function e(e,a,i){t.call(this,e,a,i,{margin:{top:20,right:20,bottom:20,left:20},key:"",value:"",color:{key:!1,keys:!1,scheme:!1,current:"#1f77b4",default:"#AAA",axis:"#000"},transition:{duration:350,ease:"easeLinear"}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initChart=function(){this.getDimensions(),this.initChartFrame("sunburst"),this.gcenter=this.g.append("g"),this.setChartDimension(),this.updateChart()},e.prototype.setChartDimension=function(){this.svg.attr("viewBox","0 0 "+(this.cfg.width+this.cfg.margin.left+this.cfg.margin.right)+" "+(this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom)).attr("width",this.cfg.width+this.cfg.margin.left+this.cfg.margin.right).attr("height",this.cfg.height+this.cfg.margin.top+this.cfg.margin.bottom),this.gcenter.attr("transform","translate("+this.cfg.width/2+", "+this.cfg.height/2+")")},e.prototype.bindData=function(){var t=this;this.hData=function(e){var a=R.hierarchy(e).sum(function(e){return e[t.cfg.value]});return R.partition()(a)}(this.data[0]).descendants(),this.itemg=this.gcenter.selectAll(".chart__slice-group").data(this.hData,function(e){return e.data[t.cfg.key]}),this.transition=R.transition("t").duration(this.cfg.transition.duration).ease(R[this.cfg.transition.ease])},e.prototype.setScales=function(){var t=this;this.radius=Math.min(this.cfg.width,this.cfg.height)/2,this.xScale=R.scaleLinear().range([0,2*Math.PI]).clamp(!0),this.yScale=R.scaleSqrt().range([.1*this.radius,this.radius]),this.arc=R.arc().startAngle(function(e){return t.xScale(e.x0)}).endAngle(function(e){return t.xScale(e.x1)}).innerRadius(function(e){return Math.max(0,t.yScale(e.y0))}).outerRadius(function(e){return Math.max(0,t.yScale(e.y1))}),this.cfg.color.scheme&&(this.cfg.color.scheme instanceof Array==!0?this.colorScale=R.scaleOrdinal().range(this.cfg.color.scheme):this.colorScale=R.scaleOrdinal(R[this.cfg.color.scheme]))},e.prototype.enterElements=function(){var t=this;this.itemg.enter().append("g").attr("class","chart__slice-group chart__slice-group--sunburst clickable").on("click",function(e){window.event.stopPropagation(),t.focusOn(e)}).append("path").attr("class","chart__slice chart__slice--sunburst").style("fill",function(e){return t.colorElement(e.data)}).on("mouseover",function(e){t.tooltip.html(function(){return"<div>"+e.data[t.cfg.key]+": "+e.value+"</div>"}).classed("active",!0)}).on("mouseout",function(){t.tooltip.classed("active",!1)}).on("mousemove",function(){t.tooltip.style("left",window.event.pageX-28+"px").style("top",window.event.pageY-40+"px")}).transition(this.transition).attrTween("d",function(e){var a=R.interpolate(0,e.y0),i=R.interpolate(e.y0,e.y1),s=R.interpolate(0,e.x0),n=R.interpolate(0,e.x1);return function(r){return e.y0=a(r),e.y1=i(r),e.x0=s(r),e.x1=n(r),t.arc(e)}})},e.prototype.updateElements=function(){var t=this;this.itemg.selectAll(".chart__slice").transition(this.transition).attrTween("d",function(e){var a=t.hData.filter(function(t){return t.data.name===e.data.name})[0],i=R.interpolate(e.y0,a.y0),s=R.interpolate(e.y1,a.y1),n=R.interpolate(e.x0,a.x0),r=R.interpolate(e.x1,a.x1);return function(e){return a.y0=i(e),a.y1=s(e),a.x0=n(e),a.x1=r(e),t.arc(a)}}).style("fill",function(e){return t.colorElement(e.data)})},e.prototype.exitElements=function(){this.itemg.exit().transition(this.transition).style("opacity",0).remove()},e.prototype.textFits=function(t){var e=this.xScale(t.x1)-this.xScale(t.x0),a=Math.max(0,(this.yScale(t.y0)+this.yScale(t.y1))/2);return t.data[this.cfg.key].length*this.cfg.charSpace<a*e},e.prototype.focusOn=function(t){var e=this,a=this.hData.filter(function(e){return e.data.name===t.data.name})[0];this.svg.transition().duration(this.cfg.transition.duration).ease(R[this.cfg.transition.ease]).tween("scale",function(){var t=R.interpolate(e.xScale.domain(),[a.x0,a.x1]),i=R.interpolate(e.yScale.domain(),[a.y0,1]);return function(a){e.xScale.domain(t(a)),e.yScale.domain(i(a))}}).selectAll(".chart__slice").attrTween("d",function(t){return function(){var a=e.hData.filter(function(e){return e.data.name===t.data.name})[0];return e.arc(a)}})},e}(_),F={D3BarChart:k,D3LineChart:w,D3SlopeChart:D,D3PieChart:Q,D3Sunburst:O({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart__wrapper"},[t.title?a("div",{staticClass:"chart__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("div",{ref:"chart",style:{height:this.height+"px"}}),t._v(" "),t.source?a("div",{staticClass:"chart__source"},[t._v(t._s(t.source))]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-7529b31b_0",{source:".chart__wrapper{margin:20px 0}.chart__wrap{margin:0}.chart__title{text-align:center;font-weight:700}.chart__source{font-size:12px}.chart__tooltip{position:absolute;pointer-events:none;display:none}.chart__tooltip.active{display:block}.chart__tooltip>div{background:#2b2b2b;color:#fff;padding:6px 10px;border-radius:3px}.chart__axis{font-size:12px;shape-rendering:crispEdges}.chart__grid .domain{stroke:none;fill:none}.chart__grid .tick line{opacity:.2}.chart__label{font-size:12px}.chart .clickable{cursor:pointer}",map:void 0,media:void 0})},{name:"D3Sunburst",data:function(){return{chart:{}}},props:{config:{type:Object,required:!0,default:function(){return{}}},datum:{type:Array,required:!0,default:function(){return[]}},title:{type:String,default:""},source:{type:String,default:""},height:{type:Number,default:300}},mounted:function(){this.chart=new z(this.$refs.chart,JSON.parse(JSON.stringify(this.datum)),this.config)},watch:{config:{handler:function(t){this.chart.updateConfig(t)},deep:!0},datum:function(t){this.chart.updateData(JSON.parse(JSON.stringify(t)))}},beforeDestroy:function(){this.chart.destroyChart()}},void 0,!1,void 0,S,void 0)};return Object.keys(F).forEach(function(t){e.component(t,F[t])}),t.default=F,t}({},Vue,d3Selection,d3Scale,d3Array,d3Transition,d3Axis,d3Ease,d3ScaleChromatic,d3TimeFormat,d3Shape,d3Interpolate,d3Hierarchy);
